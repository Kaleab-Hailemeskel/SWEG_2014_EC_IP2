<html>
  <head> <link href="../Resources/img/MQ_fav.png" type="image/png" rel="icon"><link rel="stylesheet" href="../Resources/css/hfStyle.css"> 
 <link rel="stylesheet" href="../Resources/css/S.css"></head>
 <link rel="stylesheet" href="../Resources/css/user.css"></head>
<header>
<script>

let actCh=sessionStorage.getItem("CurrentAccount");
if(actCh=="0" || actCh==null){
	alert("You need to login into an account in order to access this page");
	window.location.replace("log_in.html");
	
}
else{ 
let holder=JSON.parse(sessionStorage.getItem(actCh));
let accLevel=holder.accountLevel;
if(accLevel=="admin"){
	window.location.replace("admin.html");
}	
}
</script>
<img id="Logo" src="../Resources/Img/MQ.png" alt="Meta Quiz Logo"/>
<div class="listContainer">
<ul id="headerList"> 
<li id="headerListPoints" class="rightBorder"> <a id="home" href="index.html" style="color:white;"> Home </a> </li> 
<li id="headerListPoints" class="rightBorder"><a id="home" href="course_selection.html" style="color:white;"> Practice </a> </li>
<li id="headerListPoints"><a id="home" href="user.html" style="color:white;"> Account</a> </li>
</ul>
</div>

<div id="LogTab">
<span id="LogIn"><a id="home" href="log_in.html" style="color:white;">Log In</a> </span>
<span id="SignUp"> <a id="home" href="sign_up.html" style="color:white;"> Sign Up </a></span>
<div>
</header>
  <body>
  <div class="topCon">
    <h1>User</h1>
    <h2 class="admin-name" id="user-name"></h2>
	</div>
	<div class="actCon">
	<div class="button">
     <button onclick="addQuiz()">Create Quiz </button>
    </div>
    <div class="quizList">
      <h3>Custom Quizes</h3>
	  <ul class="list">
	  <li class="subjects" id="q1"></li>
	  <li class="subjects" id="q2"> </li>
	  <li class="subjects" id="q3"></li>
	  <li class="subjects" id="q4"> </li>
	  <li class="subjects" id="q5"> </li>
	  </ul>
    </div>
    <div class="button">
      <button onclick="update()">Profile Manager </button>
    </div>
	</div>
	<div class="last">
	 <div class="quizList">
      <h3 class="listHead">Delete Quizes</h3>
	  <ul class="list">
	  <li class="subjects" id="d1"></li>
	  <li class="subjects" id="d2"> </li>
	  <li class="subjects" id="d3"></li>
	  <li class="subjects" id="d4"> </li>
	  <li class="subjects" id="d5"> </li>
	  </ul>
    </div>
	</div>
  </body>
  <script> 
  let account=JSON.parse(sessionStorage.getItem(actCh));
  document.getElementById("user-name").innerHTML=account.email;
  
  function update(){
  sessionStorage.setItem("AccUpdated",account.email);
  window.location="Profile.html";
  }
  
  if(account.quizesNumber!=0){
     if(account.customQuizes[0]!=""){
	   document.getElementById("q1").innerHTML="<a class=\"quizLinks\" id=\"qa1\" href=\"cus_quiz_1.html\">" +account.customQuizes[0] +"</a>";
	   document.getElementById("d1").innerHTML="<button id=\"da1\" onclick=\"delQ1()\">" +account.customQuizes[0] +"</button>";
	 }
	 if(account.customQuizes[1]!=""){
	   document.getElementById("q2").innerHTML="<a class=\"quizLinks\" id=\"qa2\" href=\"cus_quiz_2.html\">" +account.customQuizes[1] +"</a>";
	   document.getElementById("d2").innerHTML="<button id=\"da2\" onclick=\"delQ2()\">" +account.customQuizes[1] +"</button>";
	 }
	 if(account.customQuizes[2]!=""){
	   document.getElementById("q3").innerHTML="<a class=\"quizLinks\" id=\"qa3\" href=\"cus_quiz_3.html\">" +account.customQuizes[2] +"</a>";
	   document.getElementById("d3").innerHTML="<button id=\"da3\" onclick=\"delQ3()\">" +account.customQuizes[2] +"</button>";
	 }
	 if(account.customQuizes[3]!=""){
	   document.getElementById("q4").innerHTML="<a class=\"quizLinks\" id=\"qa4\" href=\"cus_quiz_4.html\">" +account.customQuizes[3] +"</a>";
	   document.getElementById("d4").innerHTML="<button id=\"da4\" onclick=\"delQ4()\">" +account.customQuizes[3] +"</button>";
	 }
	 if(account.customQuizes[4]!=""){
	   document.getElementById("q5").innerHTML="<a class=\"quizLinks\" id=\"qa5\" href=\"cus_quiz_5.html\">" +account.customQuizes[4] +"</a>";
	   document.getElementById("d5").innerHTML="<button id=\"da5\" onclick=\"delQ5()\">" +account.customQuizes[4] +"</button>";
	 }
  }
  function addQuiz(){

  if(account.quizesNumber>=5){
     alert("Maximum Quiz Limit reached");
  }
  else {
  window.location="custom_adder.html";}
  }
  
  function delQ1(){
  let x=confirm("This action is irreversible. Are you sure you want to continue with the deletion? ");
if(x){
document.getElementById("qa1").remove();
document.getElementById("da1").remove();
sessionStorage.removeItem(account.customQuizes[0]);
account.customQuizes[0]="";
account.quizesNumber--;
console.log("Custom quiz " + account.customQuizes[0] + account.quizesNumber);
sessionStorage.setItem(actCh,JSON.stringify(account));
}
else {alert("Action Cancelled");} 
}

function delQ2(){
  let x=confirm("This action is irreversible. Are you sure you want to continue with the deletion? ");
if(x){
document.getElementById("qa2").remove();
document.getElementById("da2").remove();
sessionStorage.removeItem(account.customQuizes[1]);
account.customQuizes[1]="";
account.quizesNumber--;

sessionStorage.setItem(actCh,JSON.stringify(account));
}
else {alert("Action Cancelled");} }

function delQ3(){
  let x=confirm("This action is irreversible. Are you sure you want to continue with the deletion? ");
if(x){
document.getElementById("qa3").remove();
document.getElementById("da3").remove();
sessionStorage.removeItem(account.customQuizes[2]);
account.customQuizes[2]="";
account.quizesNumber--;

sessionStorage.setItem(actCh,JSON.stringify(account));
}
else {alert("Action Cancelled");} }

function delQ4(){
  let x=confirm("This action is irreversible. Are you sure you want to continue with the deletion? ");
if(x){
document.getElementById("qa4").remove();
document.getElementById("da4").remove();
sessionStorage.removeItem(account.customQuizes[3]);
account.customQuizes[3]="";
account.quizesNumber--;

sessionStorage.setItem(actCh,JSON.stringify(account));
}
else {alert("Action Cancelled");} }

function delQ5(){
  let x=confirm("This action is irreversible. Are you sure you want to continue with the deletion? ");
if(x){
document.getElementById("qa5").remove();
document.getElementById("da5").remove();
sessionStorage.removeItem(account.customQuizes[4]);
account.customQuizes[4]="";
account.quizesNumber--;

sessionStorage.setItem(actCh,JSON.stringify(account));
}
else {alert("Action Cancelled");} }
  
  </script>
  
  <footer>
<div class="BoxContainer">
<img id="fLogo" src="../Resources/Img//MQ.png" alt="Meta Quiz Logo"/>

<div class="FBoxes">
<span id="BoxTi">Company</span>
<ul class="Ful"> 
<li id="fLists"> <a style="color:white;" id="home" href="redirect.html"> Who is META?</a> </li>
<li id="fLists"><a style="color:white;" id="home" href="redirect.html"> Where are we? </a></li>
<li id="fLists"><a style="color:white;" id="home" href="redirect.html"> Our Clients? </a></li>
</ul>
 </div>
 
 <div class="FBoxes">
<span id="BoxTi"> Products</span>
<ul class="Ful"> 
<li id="fLists"> <a style="color:white;" id="home" href="redirect.html"> Weather System </a></li>
<li id="fLists"><a style="color:white;" id="home" href="redirect.html"> Book Store</a> </li>
</ul>

 </div>
 
 </div>
 
 <div class="Socials">
 <span id="follow"> Follow Us </span>
 <div id="SM">
 <a id="sLinks" href="http://instagram.com"><img src="../Resources/Img/Insta.png" alt="Instagram"></a>
<a id="sLinks" href="http://facebook.com"> <img src="../Resources/Img/Facebook.png" alt="Facebook"></a>
 <a id="sLinks" href="http://Youtube.com"><img src="../Resources/Img/Youtube.png" alt="YouTube"></a>
<a id="sLinks" href="http://twitter.com"> <img src="../Resources/Img/X.png" alt="Twitte X"></a>
 
 </div>
 </div>
 
 <div id="lic">
 <ul> 
 <li id="footerListPoints" class="rightBorder"><a style="color:white;" id="home" href="redirect.html">Privacy </a></li>
 <li id="footerListPoints" class="rightBorder"> <a style="color:white;" id="home" href="redirect.html">Terms &amp; Conditions </a> </li>
 <li id="footerListPoints"><a style="color:white;" id="home" href="redirect.html"> Security </a></li>
 </ul>
 
 <span id="MetaCopy"> &copy; META 2024 </span>
 </div>
</footer>
</html>
